{"config":{"lang":["fr","en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"TIC2WebSocket","text":"<p>Bienvenue dans la documentation du projet TIC2WebSocket.</p>"},{"location":"#introduction","title":"Introduction","text":"<p>TIC2WebSocket est une application Java qui expose les donn\u00e9es TIC (T\u00e9l\u00e9information Client) via une interface WebSocket. Elle permet aux d\u00e9veloppeurs d'acc\u00e9der facilement aux donn\u00e9es TIC en temps r\u00e9el, facilitant ainsi l'int\u00e9gration avec d'autres syst\u00e8mes et applications.</p>"},{"location":"#structure-de-la-documentation","title":"Structure de la documentation","text":"<p>La documentation est organis\u00e9e en plusieurs sections pour vous guider \u00e0 travers les diff\u00e9rentes \u00e9tapes de l'utilisation de TIC2WebSocket :</p> <ul> <li>D\u00e9marrage : Guide pour d\u00e9marrer rapidement avec TIC2WebSocket.<ul> <li>Pr\u00e9requis : Liste des pr\u00e9requis mat\u00e9riels et logiciels n\u00e9cessaires.</li> <li>Installation : Instructions d\u00e9taill\u00e9es pour installer TIC2WebSocket.</li> <li>Lancement : Comment lancer le serveur TIC2WebSocket.</li> <li>Testeur WebSocket : Guide pour utiliser le testeur WebSocket int\u00e9gr\u00e9.</li> </ul> </li> <li>Utilisation : Exemples d'utilisation et cas d'usage courants.<ul> <li>R\u00e9f\u00e9rence API : Documentation de l'API WebSocket expos\u00e9e par TIC2WebSocket.</li> <li>Configuration : D\u00e9tails sur la configuration avanc\u00e9e de TIC2WebSocket.</li> </ul> </li> <li>D\u00e9veloppement : Guide pour contribuer au projet TIC2WebSocket.<ul> <li>Architecture : Description de l'architecture du projet TIC2WebSocket.</li> <li>Contribuer : Comment contribuer au code, signaler des bugs, et proposer des am\u00e9liorations.</li> </ul> </li> </ul>"},{"location":"development/","title":"Development","text":"<p>This section documents how to work on TIC2WebSocket locally, run checks, and contribute safely.</p>"},{"location":"development/#architecture","title":"Architecture","text":"<p>See the dedicated page for an overview of the architecture and design decisions:</p> <ul> <li>Architecture</li> </ul>"},{"location":"development/#contributing","title":"Contributing","text":"<p>See the dedicated page for guidelines on contributing to the project: - Contributing</p>"},{"location":"development/architecture/","title":"Architecture","text":"<p>Cette page d\u00e9crit l\u2019architecture technique de TIC2WebSocket : ses composants, ses flux d\u2019ex\u00e9cution, ses responsabilit\u00e9s et ses points d\u2019extension.</p>"},{"location":"development/architecture/#objectif-du-systeme","title":"Objectif du syst\u00e8me","text":"<p><code>TIC2WebSocket</code> expose une interface WebSocket JSON pour :</p> <ul> <li>d\u00e9couvrir les TIC disponibles ;</li> <li>lire une trame TIC \u00e0 la demande ;</li> <li>s\u2019abonner \u00e0 un ou plusieurs flux TIC ;</li> <li>recevoir des \u00e9v\u00e9nements temps r\u00e9el (<code>OnTICData</code>, <code>OnError</code>).</li> </ul> <p>Le service fait le pont entre le monde mat\u00e9riel/port s\u00e9rie (modems TIC) et des clients applicatifs WebSocket.</p>"},{"location":"development/architecture/#vue-contexte","title":"Vue contexte","text":"<pre>1c3491a64f74fe93e697ce207d65e9d10e8a1615bc8e7d44e8da38d4c6c8a1ef36906722eb1a4c23d6fcadac8523f9df0a3c4f2404080fb2662b9118f609cda2</pre><pre>ef37a844c5a42b65eb23c3af8f04539517899ea2cb94be3723ee799c579c0af05b0876e8fd68cea1cf1001ddbb28db4dd93645a1e275640e3d77d917298e02c9</pre>"},{"location":"development/architecture/#composants-principaux","title":"Composants principaux","text":"<p>L'application est organis\u00e9e en plusieurs packages Java, chacun avec des responsabilit\u00e9s claires.</p>"},{"location":"development/architecture/#package-diagnostic","title":"Package diagnostic","text":"<ul> <li>TICCoreApp : application pour tests et diagnostics globaux du core TIC</li> <li>ModemFinderApp : application de test de d\u00e9tection de modems</li> <li>ModemPlugNotifierApp : application de test de notification de plug/unplug</li> <li>SerialPortFinderApp : application de test de d\u00e9tection de ports s\u00e9rie</li> <li>UsbPortFinderApp : application de test de d\u00e9tection de ports USB</li> </ul>"},{"location":"development/architecture/#package-utilitaire","title":"Package utilitaire","text":"<ul> <li>Codec : encodage/d\u00e9codage JSON, trames TIC, etc</li> <li>Message : mod\u00e8les de messages g\u00e9n\u00e9riques (Request, Response, Event)</li> <li>Task : gestion de t\u00e2ches asynchrones</li> <li>Time : utilitaires de temps et de date</li> </ul>"},{"location":"development/architecture/#package-io","title":"Package io","text":"<ul> <li>Modem : gestion d\u2019un modem TIC (port s\u00e9rie, USB)</li> <li>ModemFinder : d\u00e9tection dynamique des modems connect\u00e9s</li> <li>PlugNotifier : notification des \u00e9v\u00e9nements de plug/unplug</li> </ul>"},{"location":"development/architecture/#package-frame","title":"Package frame","text":"<ul> <li>TICFrame : repr\u00e9sentation d\u2019une trame TIC d\u00e9cod\u00e9e</li> <li>TICFrameCodec : encodage/d\u00e9codage de trames TIC</li> </ul>"},{"location":"development/architecture/#package-stream","title":"Package stream","text":"<ul> <li>TICCoreStream : gestion d\u2019un flux de donn\u00e9es TIC (lecture, d\u00e9codage)</li> <li>TICStreamReader : lecture d\u2019un flux TIC \u00e0 partir d\u2019un modem</li> <li>TICStreamModeDetector : d\u00e9tection du mode TIC (historique, standard)</li> </ul>"},{"location":"development/architecture/#package-core","title":"Package core","text":"<ul> <li>TICCoreBase : c\u0153ur de l\u2019application, gestion des abonnements, notifications</li> </ul>"},{"location":"development/architecture/#package-service","title":"Package service","text":"<ul> <li>TIC2WebSocketApplication : point d\u2019entr\u00e9e de l\u2019application TIC2WebSocket</li> <li>TIC2WebSocketServer : serveur WebSocket (Netty)</li> <li>TIC2WebSocketHandler : handler principal des requ\u00eates WebSocket</li> <li>TIC2WebSocketRequestHandlerBase : base pour les handlers de requ\u00eates m\u00e9tier</li> <li>TIC2WebSocketClientPool : gestion des clients WebSocket connect\u00e9s</li> </ul>"},{"location":"development/architecture/#flux-dexecution","title":"Flux d\u2019ex\u00e9cution","text":""},{"location":"development/architecture/#demarrage","title":"D\u00e9marrage","text":"<ol> <li>La CLI est pars\u00e9e (<code>picocli</code>) et la configuration est charg\u00e9e.</li> <li><code>TICCoreBase</code> est instanci\u00e9 avec le mode TIC et les ports \u00e9ventuels.</li> <li>Le serveur Netty WebSocket d\u00e9marre.</li> <li>Le core active la surveillance de plug/unplug modem.</li> </ol>"},{"location":"development/architecture/#traitement-dune-requete-websocket","title":"Traitement d\u2019une requ\u00eate WebSocket","text":"<ol> <li>Le handler re\u00e7oit une trame texte WebSocket.</li> <li>Le JSON est d\u00e9cod\u00e9 en <code>Message</code> puis transform\u00e9 en <code>Request</code>.</li> <li><code>TIC2WebSocketRequestHandlerBase</code> ex\u00e9cute l\u2019op\u00e9ration m\u00e9tier.</li> <li>La r\u00e9ponse JSON est renvoy\u00e9e au client.</li> </ol>"},{"location":"development/architecture/#diffusion-devenements-tic","title":"Diffusion d\u2019\u00e9v\u00e9nements TIC","text":"<ol> <li>Un stream lit et d\u00e9code une nouvelle trame TIC.</li> <li><code>TICCoreBase</code> re\u00e7oit <code>onData</code> / <code>onError</code>.</li> <li>Les abonn\u00e9s filtr\u00e9s par <code>TICIdentifier</code> sont r\u00e9solus.</li> <li>Chaque client re\u00e7oit un \u00e9v\u00e9nement WebSocket.</li> </ol>"},{"location":"development/architecture/#sequence-abonnement-puis-evenements","title":"S\u00e9quence : abonnement puis \u00e9v\u00e9nements","text":"<pre>14220fcb90a19b4f59508fe009d255f968c0dcd4bc0934b0f73c0091c1b4c927bc2ad65cb0464f35a20bf5b71e77ac0a06fa017fd31329bd1a5392c5f000500b</pre><pre>fd2692f855f93762726d312b20558258af5f94d6c308d7bed79de053510d9d5ce17c3469785e3ebd632a5b7f7fcdda2955140b414e8c646f1576128f47658602</pre>"},{"location":"development/contributing/","title":"Contribuer","text":"<p>Merci de votre int\u00e9r\u00eat pour contribuer au projet TIC2WebSocket. Vos contributions sont les bienvenues !</p>"},{"location":"development/contributing/#conformite-reuse","title":"Conformit\u00e9 REUSE","text":"<p>Ce projet est conforme \u00e0 REUSE, ce qui signifie que tous les fichiers source et de documentation incluent des informations claires sur la licence et les droits d'auteur. Cela garantit une r\u00e9utilisation, une distribution et une conformit\u00e9 l\u00e9gale plus faciles du code. Pour plus d'informations sur la conformit\u00e9 REUSE et les meilleures pratiques, veuillez visiter le site officiel REUSE.software.</p>"},{"location":"development/contributing/#convention-de-commits-et-de-branches","title":"Convention de commits et de branches","text":"<p>Nous utilisons la convention Conventional Commits pour la r\u00e9daction des messages de commit. Cela permet d'assurer une meilleure lisibilit\u00e9 de l'historique git et facilite l'automatisation des versions et des changelogs. Merci de suivre cette convention lors de vos contributions.</p> <p>De plus, nous appliquons la convention Conventional Branches pour le nommage des branches. Veuillez consulter la documentation officielle pour nommer vos branches de fa\u00e7on appropri\u00e9e avant de soumettre une pull request.</p>"},{"location":"development/contributing/#licence","title":"Licence","text":"<p>Ce projet est sous licence Apache 2.0. Vous \u00eates libre d'utiliser, de modifier et de distribuer ce logiciel conform\u00e9ment aux termes de cette licence.</p>"},{"location":"getting-started/","title":"D\u00e9marrage","text":"<p>Cette section explique comment d\u00e9marrer rapidement avec TIC2WebSocket.</p>"},{"location":"getting-started/#etapes-rapides","title":"\u00c9tapes rapides","text":"<ol> <li>V\u00e9rifiez les pr\u00e9requis mat\u00e9riels et logiciels. Pr\u00e9requis</li> <li>Installez TIC2WebSocket en suivant les instructions d'installation. Installation</li> <li>Lancez le serveur TIC2WebSocket. Lancement</li> <li>Utilisez le testeur WebSocket pour envoyer des requ\u00eates et recevoir des donn\u00e9es TIC. Testeur WebSocket</li> </ol>"},{"location":"getting-started/installation/","title":"Installation","text":""},{"location":"getting-started/installation/#build-du-projet","title":"Build du projet","text":""},{"location":"getting-started/installation/#cloner-le-depot","title":"Cloner le d\u00e9p\u00f4t","text":"<pre><code>git clone https://github.com/Enedis-OSS/TIC2WebSocket.git\n</code></pre>"},{"location":"getting-started/installation/#lancer-le-build-maven","title":"Lancer le build Maven","text":"<pre><code>cd TIC2WebSocket\nmvn clean package\n</code></pre>"},{"location":"getting-started/installation/#verifier-la-generation-des-artefacts","title":"V\u00e9rifier la g\u00e9n\u00e9ration des artefacts","text":"<p><pre><code>cd target \nls \n</code></pre> Vous devriez voir les livrables g\u00e9n\u00e9r\u00e9s, notamment <code>TIC2WebSocket-VERSION-bin.zip</code> ou <code>TIC2WebSocket-VERSION-bin.tar.gz</code>.</p>"},{"location":"getting-started/installation/#lancement-de-la-documentation","title":"Lancement de la documentation","text":""},{"location":"getting-started/installation/#aller-dans-le-dossier-docs","title":"Aller dans le dossier <code>docs/</code>","text":"<pre><code>cd docs\n</code></pre>"},{"location":"getting-started/installation/#demarrer-les-services-docker-de-documentation","title":"D\u00e9marrer les services Docker de documentation","text":"<pre><code>docker-compose up --build\n</code></pre>"},{"location":"getting-started/installation/#acceder-a-la-documentation","title":"Acc\u00e9der \u00e0 la documentation","text":"<p><pre><code>http://localhost:8000 \n</code></pre> Vous devriez voir la documentation TIC2WebSocket s'afficher dans votre navigateur.</p>"},{"location":"getting-started/launch/","title":"Lancement","text":""},{"location":"getting-started/launch/#lancer-le-serveur-tic2websocket","title":"Lancer le serveur TIC2WebSocket","text":""},{"location":"getting-started/launch/#linuxmacos","title":"Linux/MacOS","text":"<p>Une fois le dossier compress\u00e9 de TIC2WebSocket g\u00e9n\u00e9r\u00e9, extraire le contenu du dossier dans un r\u00e9pertoire de votre choix. </p> <p>D\u00e9finir les variables d'environnement <code>APPLICATION_HOME</code> et <code>VERSION</code> pour indiquer le chemin vers le dossier d'installation et la version de TIC2WebSocket.</p> <pre><code>export APPLICATION_HOME=/chemin/vers/dossier\nexport VERSION=1.0.0\n</code></pre> <pre><code>tar -xzf TIC2WebSocket-$VERSION-bin.tar.gz -C $APPLICATION_HOME --strip-components=1\ncd $APPLICATION_HOME\n</code></pre> <p>Afficher l'aide de TIC2WebSocket via le lanceur avec la commande suivante :</p> <pre><code>./TIC2WebSocket.sh --help\n</code></pre> <p>Vous devriez voir les options d'aide du lanceur TIC2WebSocket s'afficher, confirmant que le serveur est pr\u00eat \u00e0 \u00eatre lanc\u00e9.</p> <p>Le serveur s'arr\u00eate avec Ctrl+C.</p> <p>Pour d\u00e9marrer le serveur TIC2WebSocket, utilisez la commande suivante :</p> <pre><code>./TIC2WebSocket.sh --verbose=INFO --configFile=var/config/TIC2WebSocketConfiguration.json\n</code></pre> <p>Vous devriez voir les logs du serveur TIC2WebSocket s'afficher dans la console, indiquant que le serveur est en cours d'ex\u00e9cution et pr\u00eat \u00e0 accepter les connexions WebSocket.</p> <pre><code>Loading configuration file var/config/TIC2WebSocketConfiguration.json\nTIC2WebSocket initialized\nTIC2WebSocket starting\nStarting TICCore\nStarting TIC2WebSocket Netty server on localhost:19584\nTIC2WebSocket Netty server started successfully on localhost:19584\nTIC2WebSocket started\n</code></pre>"},{"location":"getting-started/launch/#windows","title":"Windows","text":"<p>Une fois le dossier compress\u00e9 de TIC2WebSocket g\u00e9n\u00e9r\u00e9, extraire le contenu du dossier dans un r\u00e9pertoire de votre choix. </p> <p>D\u00e9finir les variables d'environnement <code>APPLICATION_HOME</code> et <code>VERSION</code> pour indiquer le chemin vers le dossier d'installation et la version de TIC2WebSocket.</p> <pre><code>$env:APPLICATION_HOME = \"C:\\chemin\\vers\\dossier\"\n$env:VERSION = \"1.0.0\"\n</code></pre> <pre><code>Unzip-File -Path TIC2WebSocket-$env:VERSION-bin.zip -DestinationPath $env:APPLICATION_HOME\ncd $env:APPLICATION_HOME\n</code></pre> <p>Afficher l'aide de TIC2WebSocket via le lanceur avec la commande suivante :</p> <pre><code>.\\TIC2WebSocket.bat --help\n</code></pre> <p>Vous devriez voir les options d'aide du lanceur TIC2WebSocket s'afficher, confirmant que le serveur est pr\u00eat \u00e0 \u00eatre lanc\u00e9.</p> <p>Le serveur s'arr\u00eate avec Ctrl+C.</p> <p>Pour d\u00e9marrer le serveur TIC2WebSocket, utilisez la commande suivante :</p> <pre><code>.\\TIC2WebSocket.bat --verbose=INFO --configFile=var/config/TIC2WebSocketConfiguration.json\n</code></pre> <p>Vous devriez voir les logs du serveur TIC2WebSocket s'afficher dans la console, indiquant que le serveur est en cours d'ex\u00e9cution et pr\u00eat \u00e0 accepter les connexions WebSocket.</p> <pre><code>Loading configuration file var/config/TIC2WebSocketConfiguration.json\nTIC2WebSocket initialized\nTIC2WebSocket starting\nStarting TICCore\nStarting TIC2WebSocket Netty server on localhost:19584\nTIC2WebSocket Netty server started successfully on localhost:19584\nTIC2WebSocket started\n</code></pre>"},{"location":"getting-started/launch/#tester-la-connexion-websocket","title":"Tester la connexion WebSocket","text":"<p>Une fois le serveur TIC2WebSocket d\u00e9marr\u00e9, vous pouvez tester la connexion WebSocket en utilisant le client WebSocket int\u00e9gr\u00e9 \u00e0 la documentation. Suivez les instructions du guide Testeur WebSocket pour vous connecter au serveur TIC2WebSocket et recevoir les donn\u00e9es TIC en temps r\u00e9el.</p>"},{"location":"getting-started/prerequisites/","title":"Pr\u00e9requis","text":""},{"location":"getting-started/prerequisites/#environnement","title":"Environnement","text":"<ul> <li>Java 8</li> <li>Maven</li> <li>Docker / Docker Compose (optionnel pour la doc locale)</li> </ul>"},{"location":"getting-started/prerequisites/#sources","title":"Sources","text":"<ul> <li>D\u00e9p\u00f4t GitHub du projet</li> <li>Acc\u00e8s aux fichiers de configuration</li> </ul>"},{"location":"getting-started/ws-tester/","title":"WebSocket Tester","text":"<p>Le projet inclut une interface cliente WebSocket pr\u00eate \u00e0 l'emploi : <code>ws-tester.html</code>.</p> <p>Ce testeur permet de valider rapidement une instance TIC2WebSocket, sans d\u00e9velopper de client sp\u00e9cifique.</p>"},{"location":"getting-started/ws-tester/#role-dans-le-projet","title":"R\u00f4le dans le projet","text":"<p>Utilisez le testeur pour :</p> <ul> <li>v\u00e9rifier que le serveur WebSocket est joignable,</li> <li>d\u00e9couvrir les flux TIC disponibles,</li> <li>g\u00e9n\u00e9rer des requ\u00eates JSON valides pour les principales commandes API,</li> <li>inspecter les r\u00e9ponses/\u00e9v\u00e8nements entrants en temps r\u00e9el,</li> <li>reproduire des probl\u00e8mes d'int\u00e9gration lors du d\u00e9pannage.</li> </ul>"},{"location":"getting-started/ws-tester/#ouvrir-le-testeur","title":"Ouvrir le testeur","text":"<p>Ouvrez <code>ws-tester.html</code> dans votre navigateur.</p> <p>Par d\u00e9faut, il cible <code>ws://localhost:19584/</code>.</p> <p>Vous pouvez pr\u00e9remplir la connexion avec des param\u00e8tres de requ\u00eate :</p> <ul> <li>URL compl\u00e8te : <code>?url=ws://localhost:19584/</code> (alias : <code>wsUrl</code>, <code>ws</code>)</li> <li>H\u00f4te/port : <code>?host=localhost&amp;port=19584</code> (alias h\u00f4te : <code>address</code>, <code>addr</code>)</li> </ul>"},{"location":"getting-started/ws-tester/#flux-dutilisation-principal","title":"Flux d'utilisation principal","text":"<ol> <li>Cliquez sur Connect.</li> <li>Choisissez un preset de requ\u00eate.</li> <li>Renseignez les identifiants si n\u00e9cessaire.</li> <li>V\u00e9rifiez le payload JSON g\u00e9n\u00e9r\u00e9.</li> <li>Cliquez sur Send et surveillez les logs.</li> <li>Cliquez sur Disconnect en fin de test.</li> </ol>"},{"location":"getting-started/ws-tester/#presets-de-requetes-et-identifiants","title":"Presets de requ\u00eates et identifiants","text":"<p>Presets disponibles :</p> <ul> <li><code>GetModemsInfo</code></li> <li><code>GetAvailableTICs</code></li> <li><code>ReadTIC</code></li> <li><code>SubscribeTIC</code></li> <li><code>UnsubscribeTIC</code></li> </ul> <p>Les champs d'identifiant sont optionnels sauf pour <code>ReadTIC</code>, qui exige un identifiant.</p> <p>R\u00e8gle de priorit\u00e9 appliqu\u00e9e par le testeur :</p> <ol> <li><code>serialNumber</code></li> <li><code>portId</code></li> <li><code>portName</code></li> </ol> <p>Lorsqu'un identifiant de priorit\u00e9 sup\u00e9rieure est actif, les champs de priorit\u00e9 inf\u00e9rieure sont d\u00e9sactiv\u00e9s automatiquement.</p> <p>Pour <code>SubscribeTIC</code> / <code>UnsubscribeTIC</code> :</p> <ul> <li>aucun identifiant s\u00e9lectionn\u00e9 -&gt; la requ\u00eate s'applique \u00e0 tous les flux,</li> <li>un identifiant s\u00e9lectionn\u00e9 -&gt; la requ\u00eate cible ce flux.</li> </ul> <p>Lors de la r\u00e9ception d'une r\u00e9ponse <code>GetAvailableTICs</code>, le testeur remplit automatiquement les champs d'identifiants avec la premi\u00e8re entr\u00e9e retourn\u00e9e.</p>"},{"location":"getting-started/ws-tester/#logs-et-diagnostic","title":"Logs et diagnostic","text":"<ul> <li>Lignes OUT : JSON envoy\u00e9 par le client.</li> <li>Lignes IN : messages re\u00e7us du serveur.</li> <li>Lignes ERR : erreurs de validation client ou erreurs socket.</li> </ul> <p>Les messages <code>EVENT</code> sont regroup\u00e9s par nom d'\u00e9v\u00e8nement + identifiant pour garder des logs lisibles en mode flux.</p>"},{"location":"getting-started/ws-tester/#bonnes-pratiques","title":"Bonnes pratiques","text":"<ul> <li>Commencez par <code>GetAvailableTICs</code> avant <code>ReadTIC</code>/<code>SubscribeTIC</code>.</li> <li>Conservez une indentation JSON \u00e0 <code>2</code> pour faciliter le debug.</li> <li>Utilisez Clear logs avant de reproduire un incident.</li> <li>Conservez les couples requ\u00eate/r\u00e9ponse utiles lors d'un signalement.</li> </ul>"},{"location":"usage/","title":"Utilisation","text":"<p>Cette section pr\u00e9sente l'utilisation de TIC2WebSocket c\u00f4t\u00e9 client.</p>"},{"location":"usage/#demarche-recommandee","title":"D\u00e9marche recommand\u00e9e","text":"<ol> <li>Ouvrir une connexion WebSocket vers le serveur TIC2WebSocket.</li> <li>Envoyer une requ\u00eate <code>GetAvailableTICs</code> pour d\u00e9couvrir les flux disponibles.</li> <li>S'abonner au(x) flux voulu(s) avec <code>SubscribeTIC</code>.</li> <li>Traiter les \u00e9v\u00e8nements <code>OnTICData</code> et <code>OnError</code>.</li> <li>Se d\u00e9sabonner avec <code>UnsubscribeTIC</code> avant fermeture du client.</li> </ol>"},{"location":"usage/#reference-api","title":"R\u00e9f\u00e9rence API","text":"<p>Consultez la page d\u00e9di\u00e9e \u00e0 la r\u00e9f\u00e9rence compl\u00e8te des requ\u00eates et \u00e9v\u00e8nements :</p> <ul> <li>R\u00e9f\u00e9rence API</li> </ul>"},{"location":"usage/#testeur-websocket","title":"Testeur WebSocket","text":"<p>Pour tester rapidement les requ\u00eates/\u00e9v\u00e8nements avec l'interface cliente int\u00e9gr\u00e9e :</p> <ul> <li>WS Tester</li> </ul>"},{"location":"usage/api/","title":"R\u00e9f\u00e9rence API","text":"<p>La communication avec TIC2WebSocket repose sur des messages JSON \u00e9chang\u00e9s via WebSocket.</p>"},{"location":"usage/api/#getavailabletics","title":"GetAvailableTICs","text":"<p>Cette requ\u00eate permet de r\u00e9cup\u00e9rer la liste des flux TIC disponibles.</p>"},{"location":"usage/api/#requete","title":"Requ\u00eate","text":"<pre><code>{\n  \"type\": \"REQUEST\",\n  \"name\": \"GetAvailableTICs\"\n}\n</code></pre>"},{"location":"usage/api/#reponse","title":"R\u00e9ponse","text":"<p>La r\u00e9ponse contient une liste de structures avec les informations TIC :</p> <ul> <li>num\u00e9ro de s\u00e9rie ;</li> <li>nom du port s\u00e9rie ;</li> <li>identifiant du port USB physique.</li> </ul> <pre><code>{\n  \"type\": \"RESPONSE\",\n  \"name\": \"GetAvailableTICs\",\n  \"dateTime\": \"10/06/2021 14:01:00\",\n  \"errorCode\": 0,\n  \"data\": [\n    {\n      \"serialNumber\": \"021762010203\",\n      \"portName\": \"/dev/ttyUSB0\",\n      \"portId\": \"1-1\"\n    },\n    {\n      \"serialNumber\": \"041775010507\",\n      \"portName\": \"/dev/ttyUSB2\",\n      \"portId\": \"1-2\"\n    }\n  ]\n}\n</code></pre>"},{"location":"usage/api/#getmodemsinfo","title":"GetModemsInfo","text":"<p>Cette requ\u00eate permet de r\u00e9cup\u00e9rer la liste des informations des modems TIC connect\u00e9s.</p> <p>La reconnaissance des modems se fait \u00e0 partir de la paire USB <code>vendorId</code> + <code>productId</code>.</p> <p>Types de modems pris en charge :</p> Type de modem Vendor ID (hex) Product ID (hex) Vendor ID (dec) Product ID (dec) <code>MICHAUD</code> <code>0x0403</code> <code>0x6001</code> <code>1027</code> <code>24577</code> <code>TELEINFO</code> <code>0x0403</code> <code>0x6015</code> <code>1027</code> <code>24597</code>"},{"location":"usage/api/#requete_1","title":"Requ\u00eate","text":"<pre><code>{\n  \"type\": \"REQUEST\",\n  \"name\": \"GetModemsInfo\"\n}\n</code></pre>"},{"location":"usage/api/#reponse_1","title":"R\u00e9ponse","text":"<p>La r\u00e9ponse contient une liste de structures avec les informations des modems :</p> <ul> <li>nom du port s\u00e9rie ;</li> <li>type de modem ;</li> <li>identifiant produit (USB PID), si disponible ;</li> <li>identifiant vendeur (USB VID), si disponible ;</li> <li>nom du produit, si disponible ;</li> <li>nom du fabricant, si disponible ;</li> <li>num\u00e9ro de s\u00e9rie du modem, si disponible ;</li> <li>identifiant physique du port s\u00e9rie, si disponible.</li> </ul> <pre><code>{\n  \"type\": \"RESPONSE\",\n  \"name\": \"GetModemsInfo\",\n  \"dateTime\": \"16/06/2021 15:53:32\",\n  \"errorCode\": 0,\n  \"data\": [\n    {\n      \"portName\": \"COM3\",\n      \"modemType\": \"MICHAUD\",\n      \"productId\": 24597,\n      \"vendorId\": 1027,\n      \"productName\": null,\n      \"manufacturerName\": \"FTDI\",\n      \"serialNumber\": \"DA2VYTKGA\",\n      \"portId\": null\n    }\n  ]\n}\n</code></pre>"},{"location":"usage/api/#readtic","title":"ReadTIC","text":"<p>Cette requ\u00eate permet de lire une trame TIC.</p>"},{"location":"usage/api/#requete_2","title":"Requ\u00eate","text":"<pre><code>{\n  \"type\": \"REQUEST\",\n  \"name\": \"ReadTIC\",\n  \"data\": {\n    \"serialNumber\": \"010203040506\"\n  }\n}\n</code></pre> <p>Le champ <code>data</code> doit contenir un identifiant TIC d\u00e9fini dans le format d'identifiant TIC.</p>"},{"location":"usage/api/#reponse_2","title":"R\u00e9ponse","text":"<pre><code>{\n  \"type\": \"RESPONSE\",\n  \"name\": \"ReadTIC\",\n  \"dateTime\": \"10/06/2021 14:01:00\",\n  \"errorCode\": 0,\n  \"data\": {\n    \"mode\": \"STANDARD\",\n    \"captureDateTime\": \"10/06/2021 14:01:00\",\n    \"ticIdentifier\": {\n      \"serialNumber\": \"021762010203\",\n      \"portName\": \"/dev/ttyUSB0\",\n      \"portId\": \"1-1\"\n    },\n    \"content\": {\n      \"ADSC\": \"010203040506\",\n      \"URMS1\": 230\n    }\n  }\n}\n</code></pre>"},{"location":"usage/api/#subscribetic","title":"SubscribeTIC","text":"<p>Cette requ\u00eate permet de s'abonner \u00e0 un flux TIC. Une fois abonn\u00e9, le client re\u00e7oit des \u00e9v\u00e8nements \u00e0 chaque nouvelle trame TIC ou erreur li\u00e9e au flux TIC.</p>"},{"location":"usage/api/#requete_3","title":"Requ\u00eate","text":"<p>Plusieurs formats sont possibles.</p> <p>Abonnement \u00e0 un flux TIC :</p> <pre><code>{\n  \"type\": \"REQUEST\",\n  \"name\": \"SubscribeTIC\",\n  \"data\": {\n    \"serialNumber\": \"010203040506\"\n  }\n}\n</code></pre> <p>Abonnement \u00e0 plusieurs flux TIC :</p> <pre><code>{\n  \"type\": \"REQUEST\",\n  \"name\": \"SubscribeTIC\",\n  \"data\": [\n    {\n      \"serialNumber\": \"010203040506\"\n    },\n    {\n      \"portId\": \"1-1\"\n    }\n  ]\n}\n</code></pre> <p>Abonnement \u00e0 tous les flux TIC :</p> <pre><code>{\n  \"type\": \"REQUEST\",\n  \"name\": \"SubscribeTIC\"\n}\n</code></pre> <p>Le champ <code>data</code> doit contenir un identifiant TIC (ou une liste d'identifiants TIC) d\u00e9fini dans le format d'identifiant TIC.</p>"},{"location":"usage/api/#reponse_3","title":"R\u00e9ponse","text":"<p>R\u00e9ponse en cas de succ\u00e8s :</p> <pre><code>{\n  \"type\": \"RESPONSE\",\n  \"name\": \"SubscribeTIC\",\n  \"dateTime\": \"10/06/2021 14:01:00\",\n  \"errorCode\": 0\n}\n</code></pre> <p>Si le flux TIC demand\u00e9 n'existe pas :</p> <pre><code>{\n  \"type\": \"RESPONSE\",\n  \"name\": \"SubscribeTIC\",\n  \"dateTime\": \"10/06/2021 14:01:00\",\n  \"errorCode\": -7,\n  \"errorMessage\": \"The given TIC identifier doesn't match with current TIC stream\"\n}\n</code></pre>"},{"location":"usage/api/#evenement-onticdata","title":"\u00c9v\u00e8nement <code>OnTICData</code>","text":"<p>Cet \u00e9v\u00e8nement est g\u00e9n\u00e9r\u00e9 \u00e0 chaque nouvelle trame TIC et envoy\u00e9 \u00e0 tous les clients abonn\u00e9s \u00e0 cette TIC.</p> <pre><code>{\n  \"type\": \"EVENT\",\n  \"dateTime\": \"10/06/2021 14:01:00\",\n  \"name\": \"OnTICData\",\n  \"data\": {\n    \"mode\": \"STANDARD\",\n    \"captureDateTime\": \"10/06/2021 14:01:00\",\n    \"ticIdentifier\": {\n      \"serialNumber\": \"021762010203\",\n      \"portName\": \"/dev/ttyUSB0\",\n      \"portId\": \"1-1\"\n    },\n    \"content\": {\n      \"ADSC\": \"010203040506\",\n      \"URMS1\": 230\n    }\n  }\n}\n</code></pre>"},{"location":"usage/api/#evenement-onerror","title":"\u00c9v\u00e8nement <code>OnError</code>","text":"<p>Cet \u00e9v\u00e8nement est g\u00e9n\u00e9r\u00e9 lorsqu'une erreur survient sur le flux TIC et envoy\u00e9 \u00e0 tous les clients abonn\u00e9s \u00e0 cette TIC.</p> <pre><code>{\n  \"type\": \"EVENT\",\n  \"dateTime\": \"10/06/2021 14:01:00\",\n  \"name\": \"OnError\",\n  \"data\": {\n    \"errorCode\": -5,\n    \"errorMessage\": \"TIC frame reading timeout\",\n    \"ticIdentifier\": {\n      \"serialNumber\": \"021762010203\",\n      \"portName\": \"/dev/ttyUSB0\",\n      \"portId\": \"1-1\"\n    }\n  }\n}\n</code></pre>"},{"location":"usage/api/#unsubscribetic","title":"UnsubscribeTIC","text":"<p>Cette requ\u00eate permet de se d\u00e9sabonner d'un flux TIC.</p>"},{"location":"usage/api/#requete_4","title":"Requ\u00eate","text":"<p>Plusieurs formats sont possibles.</p> <p>D\u00e9sabonnement d'un flux TIC :</p> <pre><code>{\n  \"type\": \"REQUEST\",\n  \"name\": \"UnsubscribeTIC\",\n  \"data\": {\n    \"serialNumber\": \"010203040506\"\n  }\n}\n</code></pre> <p>D\u00e9sabonnement de plusieurs flux TIC :</p> <pre><code>{\n  \"type\": \"REQUEST\",\n  \"name\": \"UnsubscribeTIC\",\n  \"data\": [\n    {\n      \"serialNumber\": \"010203040506\"\n    },\n    {\n      \"portId\": \"1-1\"\n    }\n  ]\n}\n</code></pre> <p>D\u00e9sabonnement de tous les flux TIC :</p> <pre><code>{\n  \"type\": \"REQUEST\",\n  \"name\": \"UnsubscribeTIC\"\n}\n</code></pre> <p>Dans le cas d'un d\u00e9sabonnement cibl\u00e9, le champ <code>data</code> doit contenir un identifiant TIC (ou une liste d'identifiants TIC) d\u00e9fini dans le format d'identifiant TIC.</p>"},{"location":"usage/api/#format-didentifiant-tic","title":"Format d'identifiant TIC","text":"<p>Un identifiant TIC est un objet contenant un des champs suivants :</p> <ul> <li><code>serialNumber</code></li> <li><code>portId</code></li> <li><code>portName</code></li> </ul> <p>Selon la requ\u00eate, vous pouvez fournir un identifiant unique ou une liste d'identifiants.</p>"},{"location":"usage/api/#reponse_4","title":"R\u00e9ponse","text":"<pre><code>{\n  \"type\": \"RESPONSE\",\n  \"name\": \"UnsubscribeTIC\",\n  \"dateTime\": \"16/06/2021 15:53:32\",\n  \"errorCode\": 0\n}\n</code></pre>"},{"location":"usage/configuration/","title":"Configuration","text":""},{"location":"usage/configuration/#emplacement","title":"Emplacement","text":"<p>Le fichier de configuration <code>TIC2WebSocketConfiguration.json</code> se trouve dans le sous-r\u00e9pertoire <code>var/config</code> du r\u00e9pertoire d'installation de TIC2WebSocket.</p>"},{"location":"usage/configuration/#structure","title":"Structure","text":"<p>Le fichier de configuration utilise le format JSON et vous permet de modifier les param\u00e8tres suivants :</p> <ul> <li>le port d'\u00e9coute du serveur WebSocket ;</li> <li>le mode TIC (optionnel) ;</li> <li>la liste des ports s\u00e9rie natifs (optionnel).</li> </ul> <p>\u2139\ufe0f La liste des ports USB n'est pas configurable, car TIC2WebSocket les d\u00e9tecte automatiquement.</p> <p>Exemple de fichier de configuration :</p> <pre><code>{\n    \"serverPort\": 19584,\n    \"ticMode\": \"AUTO\",\n    \"ticPortNames\": [\"/dev/ttyAMA0\"]\n}\n</code></pre>"},{"location":"usage/configuration/#parametre-serverport","title":"Param\u00e8tre <code>serverPort</code>","text":"<p>Le param\u00e8tre <code>serverPort</code> permet de configurer le port TCP d'\u00e9coute du serveur WebSocket TIC2WebSocket, entre <code>1</code> et <code>65535</code>.</p> <p>La valeur par d\u00e9faut est <code>19584</code>.</p>"},{"location":"usage/configuration/#parametre-ticmode","title":"Param\u00e8tre <code>ticMode</code>","text":"<p>Le param\u00e8tre <code>ticMode</code> permet de configurer le mode de flux TIC :</p> <ul> <li><code>\"AUTO\"</code> : d\u00e9tection automatique (valeur par d\u00e9faut) ;</li> <li><code>\"STANDARD\"</code> : mode TIC Standard \u00e0 9600 bauds ;</li> <li><code>\"HISTORIC\"</code> : mode TIC Historique \u00e0 1200 bauds.</li> </ul>"},{"location":"usage/configuration/#parametre-ticportnames","title":"Param\u00e8tre <code>ticPortNames</code>","text":"<p>Le param\u00e8tre <code>ticPortNames</code> permet de configurer la liste des ports s\u00e9rie natifs utilis\u00e9s pour lire la TIC.</p> <p>Lorsque ce param\u00e8tre est d\u00e9fini, la liste doit :</p> <ul> <li>contenir au moins un \u00e9l\u00e9ment ;</li> <li>contenir des \u00e9l\u00e9ments uniques ;</li> <li>ne contenir aucun \u00e9l\u00e9ment nul ;</li> <li>contenir uniquement des cha\u00eenes d'au moins un caract\u00e8re.</li> </ul> <p>Exemple :</p> <pre><code>\"ticPortNames\": [\"/dev/ttyAMA0\"]\n</code></pre>"},{"location":"en/","title":"TIC2WebSocket","text":"<p>Welcome to the documentation for the TIC2WebSocket project.</p>"},{"location":"en/#introduction","title":"Introduction","text":"<p>TIC2WebSocket is a Java application that exposes TIC (\"T\u00e9l\u00e9information Client\") data through a WebSocket interface. It allows developers to access TIC data in real time, making integrations with other systems and applications easier.</p>"},{"location":"en/#documentation-structure","title":"Documentation structure","text":"<p>The documentation is organized into several sections to guide you through using TIC2WebSocket:</p> <ul> <li>Getting Started: Quick-start guide for TIC2WebSocket.<ul> <li>Prerequisites: Required hardware and software.</li> <li>Installation: Detailed installation instructions.</li> <li>Launch: How to start the TIC2WebSocket server.</li> <li>WebSocket Tester: How to use the built-in WebSocket tester.</li> </ul> </li> <li>Usage: Common usage patterns and client-side guidance.<ul> <li>API Reference: WebSocket API documentation exposed by TIC2WebSocket.</li> <li>Configuration: Advanced configuration details.</li> </ul> </li> <li>Development: How to contribute to TIC2WebSocket.<ul> <li>Architecture: Project architecture overview.</li> <li>Contributing: How to contribute code, report bugs, and propose improvements.</li> </ul> </li> </ul>"},{"location":"en/development/#contributing","title":"Contributing","text":"<p>See the dedicated page for guidelines on contributing to the project:</p> <ul> <li>Contributing</li> </ul>"},{"location":"en/development/architecture/","title":"Architecture","text":"<p>This page describes the technical architecture of TIC2WebSocket: its components, execution flows, responsibilities, and extension points.</p>"},{"location":"en/development/architecture/#system-goal","title":"System goal","text":"<p><code>TIC2WebSocket</code> exposes a JSON WebSocket interface to:</p> <ul> <li>discover available TICs;</li> <li>read a TIC frame on demand;</li> <li>subscribe to one or more TIC streams;</li> <li>receive real-time events (<code>OnTICData</code>, <code>OnError</code>).</li> </ul> <p>The service bridges the hardware/serial port world (TIC modems) and WebSocket application clients.</p>"},{"location":"en/development/architecture/#context-view","title":"Context view","text":"<pre>b5d6ca2a2010b11060a7b41edba43a7c60afd7aca27e5ce09b62d7a8d0a0d6f6bce867a3f9b8101da755b1ed3da0a397e6214364faad31efbf7ea6f034273978</pre><pre>2f1cb8fbd9efd9adf352eba9449b76834e3b838db2a5c1d7d09671206c02cc04473fdfdbbbd952423709a4ed0baa25450afcae2b444f79b29b70dbc67b39c3dd</pre>"},{"location":"en/development/architecture/#main-components","title":"Main components","text":"<p>The application is organized into several Java packages, each with clear responsibilities.</p>"},{"location":"en/development/architecture/#diagnostic-package","title":"Diagnostic package","text":"<ul> <li>TICCoreApp: application for global TIC core tests and diagnostics</li> <li>ModemFinderApp: modem discovery test application</li> <li>ModemPlugNotifierApp: plug/unplug notification test application</li> <li>SerialPortFinderApp: serial port discovery test application</li> <li>UsbPortFinderApp: USB port discovery test application</li> </ul>"},{"location":"en/development/architecture/#utility-package","title":"Utility package","text":"<ul> <li>Codec: JSON encoding/decoding, TIC frames, etc.</li> <li>Message: generic message models (Request, Response, Event)</li> <li>Task: asynchronous task management</li> <li>Time: date and time utilities</li> </ul>"},{"location":"en/development/architecture/#io-package","title":"io package","text":"<ul> <li>Modem: TIC modem management (serial port, USB)</li> <li>ModemFinder: dynamic discovery of connected modems</li> <li>PlugNotifier: plug/unplug event notifications</li> </ul>"},{"location":"en/development/architecture/#frame-package","title":"frame package","text":"<ul> <li>TICFrame: representation of a decoded TIC frame</li> <li>TICFrameCodec: TIC frame encoding/decoding</li> </ul>"},{"location":"en/development/architecture/#stream-package","title":"stream package","text":"<ul> <li>TICCoreStream: TIC data stream management (reading, decoding)</li> <li>TICStreamReader: reads a TIC stream from a modem</li> <li>TICStreamModeDetector: detects the TIC mode (historic, standard)</li> </ul>"},{"location":"en/development/architecture/#core-package","title":"core package","text":"<ul> <li>TICCoreBase: application core, subscription management, notifications</li> </ul>"},{"location":"en/development/architecture/#service-package","title":"service package","text":"<ul> <li>TIC2WebSocketApplication: TIC2WebSocket application entry point</li> <li>TIC2WebSocketServer: WebSocket server (Netty)</li> <li>TIC2WebSocketHandler: main WebSocket request handler</li> <li>TIC2WebSocketRequestHandlerBase: base class for business request handlers</li> <li>TIC2WebSocketClientPool: connected WebSocket clients management</li> </ul>"},{"location":"en/development/architecture/#execution-flows","title":"Execution flows","text":""},{"location":"en/development/architecture/#startup","title":"Startup","text":"<ol> <li>The CLI is parsed (<code>picocli</code>) and configuration is loaded.</li> <li><code>TICCoreBase</code> is instantiated with the TIC mode and optional ports.</li> <li>The Netty WebSocket server starts.</li> <li>The core enables modem plug/unplug monitoring.</li> </ol>"},{"location":"en/development/architecture/#handling-a-websocket-request","title":"Handling a WebSocket request","text":"<ol> <li>The handler receives a WebSocket text frame.</li> <li>JSON is decoded into a <code>Message</code> then transformed into a <code>Request</code>.</li> <li><code>TIC2WebSocketRequestHandlerBase</code> performs the business operation.</li> <li>The JSON response is sent back to the client.</li> </ol>"},{"location":"en/development/architecture/#broadcasting-tic-events","title":"Broadcasting TIC events","text":"<ol> <li>A stream reads and decodes a new TIC frame.</li> <li><code>TICCoreBase</code> receives <code>onData</code> / <code>onError</code>.</li> <li>Subscribers filtered by <code>TICIdentifier</code> are resolved.</li> <li>Each client receives a WebSocket event.</li> </ol>"},{"location":"en/development/architecture/#sequence-subscribe-then-events","title":"Sequence: subscribe then events","text":"<pre>67b2f4e926c0c82b0d5704fe2c23b6906a4333c38610bb6c710459525ee0b25a0083a3159944c9ad61498a537c5548535d4240c5b176fa88ad5e4bdd986b9d99</pre><pre>b7c6b284f2e273cd0465875390d85ad49b7d1647fb0dec06e8703007be4b2bf94cbaaacc756bf535906389aa8c06a23595708c6812450d03415a9e4fc9eabe64</pre>"},{"location":"en/development/contributing/","title":"Contributing","text":"<p>Thanks for your interest in contributing to the TIC2WebSocket project. Contributions are welcome!</p>"},{"location":"en/development/contributing/#reuse-compliance","title":"REUSE compliance","text":"<p>This project is compliant with REUSE, meaning all source and documentation files include clear information about licensing and copyright. This makes reuse, distribution, and legal compliance easier.</p> <p>For more information about REUSE compliance and best practices, please visit the official website: REUSE.software.</p>"},{"location":"en/development/contributing/#commit-and-branch-conventions","title":"Commit and branch conventions","text":"<p>We use Conventional Commits for commit messages. This improves the readability of Git history and helps automate versioning and changelogs. Please follow this convention when contributing.</p> <p>We also apply Conventional Branches for branch naming. Please refer to the official documentation to name your branches appropriately before submitting a pull request.</p>"},{"location":"en/development/contributing/#license","title":"License","text":"<p>This project is licensed under Apache 2.0.</p> <p>You are free to use, modify, and distribute this software under the terms of that license.</p>"},{"location":"en/getting-started/","title":"Getting Started","text":"<p>This section explains how to get started quickly with TIC2WebSocket.</p>"},{"location":"en/getting-started/#quick-steps","title":"Quick steps","text":"<ol> <li>Check the required hardware and software. Prerequisites</li> <li>Install TIC2WebSocket by following the installation instructions. Installation</li> <li>Start the TIC2WebSocket server. Launch</li> <li>Use the WebSocket tester to send requests and receive TIC data. WebSocket Tester</li> </ol>"},{"location":"en/getting-started/installation/#build-the-project","title":"Build the project","text":""},{"location":"en/getting-started/installation/#clone-the-repository","title":"Clone the repository","text":"<pre><code>git clone https://github.com/Enedis-OSS/TIC2WebSocket.git\n</code></pre>"},{"location":"en/getting-started/installation/#run-the-maven-build","title":"Run the Maven build","text":"<pre><code>cd TIC2WebSocket\nmvn clean package\n</code></pre>"},{"location":"en/getting-started/installation/#verify-generated-artifacts","title":"Verify generated artifacts","text":"<pre><code>cd target\nls\n</code></pre> <p>You should see the generated deliverables, including <code>TIC2WebSocket-VERSION-bin.zip</code> or <code>TIC2WebSocket-VERSION-bin.tar.gz</code>.</p>"},{"location":"en/getting-started/installation/#run-the-documentation-locally","title":"Run the documentation locally","text":""},{"location":"en/getting-started/installation/#go-to-the-docs-folder","title":"Go to the <code>docs/</code> folder","text":"<pre><code>cd docs\n</code></pre>"},{"location":"en/getting-started/installation/#start-the-documentation-docker-services","title":"Start the documentation Docker services","text":"<pre><code>docker-compose up --build\n</code></pre>"},{"location":"en/getting-started/installation/#open-the-documentation","title":"Open the documentation","text":"<pre><code>http://localhost:8000\n</code></pre> <p>You should see the TIC2WebSocket documentation in your browser.</p>"},{"location":"en/getting-started/launch/","title":"Launch","text":""},{"location":"en/getting-started/launch/#start-the-tic2websocket-server","title":"Start the TIC2WebSocket server","text":""},{"location":"en/getting-started/launch/#linuxmacos","title":"Linux/macOS","text":"<p>Once the TIC2WebSocket archive has been generated, extract it into a directory of your choice.</p> <p>Set the <code>APPLICATION_HOME</code> and <code>VERSION</code> environment variables to indicate the installation folder path and the TIC2WebSocket version.</p> <pre><code>export APPLICATION_HOME=/path/to/folder\nexport VERSION=1.0.0\n</code></pre> <pre><code>tar -xzf TIC2WebSocket-$VERSION-bin.tar.gz -C $APPLICATION_HOME --strip-components=1\ncd $APPLICATION_HOME\n</code></pre> <p>Show the TIC2WebSocket launcher help with:</p> <pre><code>./TIC2WebSocket.sh --help\n</code></pre> <p>You should see the help options, confirming the server is ready to be started.</p> <p>Stop the server with Ctrl+C.</p> <p>To start the TIC2WebSocket server, use:</p> <pre><code>./TIC2WebSocket.sh --verbose=INFO --configFile=var/config/TIC2WebSocketConfiguration.json\n</code></pre> <p>You should see the server logs in the console, indicating it is running and ready to accept WebSocket connections.</p> <pre><code>Loading configuration file var/config/TIC2WebSocketConfiguration.json\nTIC2WebSocket initialized\nTIC2WebSocket starting\nStarting TICCore\nStarting TIC2WebSocket Netty server on localhost:19584\nTIC2WebSocket Netty server started successfully on localhost:19584\nTIC2WebSocket started\n</code></pre>"},{"location":"en/getting-started/launch/#windows","title":"Windows","text":"<p>Once the TIC2WebSocket archive has been generated, extract it into a directory of your choice.</p> <p>Set the <code>APPLICATION_HOME</code> and <code>VERSION</code> environment variables to indicate the installation folder path and the TIC2WebSocket version.</p> <pre><code>$env:APPLICATION_HOME = \"C:\\path\\to\\folder\"\n$env:VERSION = \"1.0.0\"\n</code></pre> <pre><code>Unzip-File -Path TIC2WebSocket-$env:VERSION-bin.zip -DestinationPath $env:APPLICATION_HOME\ncd $env:APPLICATION_HOME\n</code></pre> <p>Show the TIC2WebSocket launcher help with:</p> <pre><code>.\\TIC2WebSocket.bat --help\n</code></pre> <p>You should see the help options, confirming the server is ready to be started.</p> <p>Stop the server with Ctrl+C.</p> <p>To start the TIC2WebSocket server, use:</p> <pre><code>.\\TIC2WebSocket.bat --verbose=INFO --configFile=var/config/TIC2WebSocketConfiguration.json\n</code></pre> <p>You should see the server logs in the console, indicating it is running and ready to accept WebSocket connections.</p> <pre><code>Loading configuration file var/config/TIC2WebSocketConfiguration.json\nTIC2WebSocket initialized\nTIC2WebSocket starting\nStarting TICCore\nStarting TIC2WebSocket Netty server on localhost:19584\nTIC2WebSocket Netty server started successfully on localhost:19584\nTIC2WebSocket started\n</code></pre>"},{"location":"en/getting-started/launch/#test-the-websocket-connection","title":"Test the WebSocket connection","text":"<p>Once the TIC2WebSocket server is started, you can test the WebSocket connection using the WebSocket client embedded in the documentation. Follow the instructions in WebSocket Tester to connect to the TIC2WebSocket server and receive TIC data in real time.</p>"},{"location":"en/getting-started/prerequisites/","title":"Prerequisites","text":""},{"location":"en/getting-started/prerequisites/#environment","title":"Environment","text":"<ul> <li>Java 8</li> <li>Maven</li> <li>Docker / Docker Compose (optional, for local documentation)</li> </ul>"},{"location":"en/getting-started/prerequisites/#sources","title":"Sources","text":"<ul> <li>Project GitHub repository</li> <li>Access to configuration files</li> </ul>"},{"location":"en/getting-started/ws-tester/","title":"WebSocket Tester","text":"<p>The project includes a ready-to-use WebSocket client interface: <code>ws-tester.html</code>.</p> <p>This tester helps you quickly validate a TIC2WebSocket instance without having to develop a dedicated client.</p>"},{"location":"en/getting-started/ws-tester/#role-in-the-project","title":"Role in the project","text":"<p>Use the tester to:</p> <ul> <li>verify that the WebSocket server is reachable,</li> <li>discover available TIC streams,</li> <li>generate valid JSON requests for the main API commands,</li> <li>inspect incoming responses/events in real time,</li> <li>reproduce integration issues while troubleshooting.</li> </ul>"},{"location":"en/getting-started/ws-tester/#open-the-tester","title":"Open the tester","text":"<p>Open <code>ws-tester.html</code> in your browser.</p> <p>By default, it targets <code>ws://localhost:19584/</code>.</p> <p>You can prefill the connection using query parameters:</p> <ul> <li>full URL: <code>?url=ws://localhost:19584/</code> (aliases: <code>wsUrl</code>, <code>ws</code>)</li> <li>host/port: <code>?host=localhost&amp;port=19584</code> (host aliases: <code>address</code>, <code>addr</code>)</li> </ul>"},{"location":"en/getting-started/ws-tester/#main-usage-flow","title":"Main usage flow","text":"<ol> <li>Click Connect.</li> <li>Choose a request preset.</li> <li>Fill in identifiers if needed.</li> <li>Check the generated JSON payload.</li> <li>Click Send and watch the logs.</li> <li>Click Disconnect when done.</li> </ol>"},{"location":"en/getting-started/ws-tester/#request-presets-and-identifiers","title":"Request presets and identifiers","text":"<p>Available presets:</p> <ul> <li><code>GetModemsInfo</code></li> <li><code>GetAvailableTICs</code></li> <li><code>ReadTIC</code></li> <li><code>SubscribeTIC</code></li> <li><code>UnsubscribeTIC</code></li> </ul> <p>Identifier fields are optional except for <code>ReadTIC</code>, which requires an identifier.</p> <p>Priority rule applied by the tester:</p> <ol> <li><code>serialNumber</code></li> <li><code>portId</code></li> <li><code>portName</code></li> </ol> <p>When a higher-priority identifier is active, lower-priority fields are automatically disabled.</p> <p>For <code>SubscribeTIC</code> / <code>UnsubscribeTIC</code>:</p> <ul> <li>no identifier selected -&gt; the request applies to all streams,</li> <li>one identifier selected -&gt; the request targets that stream.</li> </ul> <p>When receiving a <code>GetAvailableTICs</code> response, the tester automatically fills identifier fields using the first returned entry.</p>"},{"location":"en/getting-started/ws-tester/#logs-and-diagnostics","title":"Logs and diagnostics","text":"<ul> <li>OUT lines: JSON sent by the client.</li> <li>IN lines: messages received from the server.</li> <li>ERR lines: client-side validation errors or socket errors.</li> </ul> <p><code>EVENT</code> messages are grouped by event name + identifier to keep logs readable in stream mode.</p>"},{"location":"en/getting-started/ws-tester/#best-practices","title":"Best practices","text":"<ul> <li>Start with <code>GetAvailableTICs</code> before <code>ReadTIC</code>/<code>SubscribeTIC</code>.</li> <li>Keep JSON indentation at <code>2</code> for easier debugging.</li> <li>Use Clear logs before reproducing an issue.</li> <li>Keep useful request/response pairs when reporting a problem.</li> </ul>"},{"location":"en/usage/","title":"Usage","text":"<p>This section explains how to use TIC2WebSocket from the client side.</p>"},{"location":"en/usage/#recommended-approach","title":"Recommended approach","text":"<ol> <li>Open a WebSocket connection to the TIC2WebSocket server.</li> <li>Send a <code>GetAvailableTICs</code> request to discover available streams.</li> <li>Subscribe to the desired stream(s) using <code>SubscribeTIC</code>.</li> <li>Handle <code>OnTICData</code> and <code>OnError</code> events.</li> <li>Unsubscribe using <code>UnsubscribeTIC</code> before closing the client.</li> </ol>"},{"location":"en/usage/#api-reference","title":"API reference","text":"<p>See the dedicated page for the full list of requests and events:</p> <ul> <li>API Reference</li> </ul>"},{"location":"en/usage/#websocket-tester","title":"WebSocket tester","text":"<p>To quickly test requests/events using the built-in client UI:</p> <ul> <li>WS Tester</li> </ul>"},{"location":"en/usage/api/","title":"API Reference","text":"<p>Communication with TIC2WebSocket is based on JSON messages exchanged over WebSocket.</p>"},{"location":"en/usage/api/#getavailabletics","title":"GetAvailableTICs","text":"<p>This request returns the list of available TIC streams.</p>"},{"location":"en/usage/api/#request","title":"Request","text":"<pre><code>{\n  \"type\": \"REQUEST\",\n  \"name\": \"GetAvailableTICs\"\n}\n</code></pre>"},{"location":"en/usage/api/#response","title":"Response","text":"<p>The response contains a list of TIC information objects:</p> <ul> <li>serial number;</li> <li>serial port name;</li> <li>physical USB port identifier.</li> </ul> <pre><code>{\n  \"type\": \"RESPONSE\",\n  \"name\": \"GetAvailableTICs\",\n  \"dateTime\": \"10/06/2021 14:01:00\",\n  \"errorCode\": 0,\n  \"data\": [\n    {\n      \"serialNumber\": \"021762010203\",\n      \"portName\": \"/dev/ttyUSB0\",\n      \"portId\": \"1-1\"\n    },\n    {\n      \"serialNumber\": \"041775010507\",\n      \"portName\": \"/dev/ttyUSB2\",\n      \"portId\": \"1-2\"\n    }\n  ]\n}\n</code></pre>"},{"location":"en/usage/api/#getmodemsinfo","title":"GetModemsInfo","text":"<p>This request returns modem information for connected TIC modems.</p> <p>Modem recognition is based on the USB pair <code>vendorId</code> + <code>productId</code>.</p> <p>Supported modem types:</p> Modem type Vendor ID (hex) Product ID (hex) Vendor ID (dec) Product ID (dec) <code>MICHAUD</code> <code>0x0403</code> <code>0x6001</code> <code>1027</code> <code>24577</code> <code>TELEINFO</code> <code>0x0403</code> <code>0x6015</code> <code>1027</code> <code>24597</code>"},{"location":"en/usage/api/#request_1","title":"Request","text":"<pre><code>{\n  \"type\": \"REQUEST\",\n  \"name\": \"GetModemsInfo\"\n}\n</code></pre>"},{"location":"en/usage/api/#response_1","title":"Response","text":"<p>The response contains a list of modem information objects:</p> <ul> <li>serial port name;</li> <li>modem type;</li> <li>product identifier (USB PID), if available;</li> <li>vendor identifier (USB VID), if available;</li> <li>product name, if available;</li> <li>manufacturer name, if available;</li> <li>modem serial number, if available;</li> <li>physical serial port identifier, if available.</li> </ul> <pre><code>{\n  \"type\": \"RESPONSE\",\n  \"name\": \"GetModemsInfo\",\n  \"dateTime\": \"16/06/2021 15:53:32\",\n  \"errorCode\": 0,\n  \"data\": [\n    {\n      \"portName\": \"COM3\",\n      \"modemType\": \"MICHAUD\",\n      \"productId\": 24597,\n      \"vendorId\": 1027,\n      \"productName\": null,\n      \"manufacturerName\": \"FTDI\",\n      \"serialNumber\": \"DA2VYTKGA\",\n      \"portId\": null\n    }\n  ]\n}\n</code></pre>"},{"location":"en/usage/api/#readtic","title":"ReadTIC","text":"<p>This request reads one TIC frame.</p>"},{"location":"en/usage/api/#request_2","title":"Request","text":"<pre><code>{\n  \"type\": \"REQUEST\",\n  \"name\": \"ReadTIC\",\n  \"data\": {\n    \"serialNumber\": \"010203040506\"\n  }\n}\n</code></pre> <p>The <code>data</code> field must contain a TIC identifier defined in TIC identifier format.</p>"},{"location":"en/usage/api/#response_2","title":"Response","text":"<pre><code>{\n  \"type\": \"RESPONSE\",\n  \"name\": \"ReadTIC\",\n  \"dateTime\": \"10/06/2021 14:01:00\",\n  \"errorCode\": 0,\n  \"data\": {\n    \"mode\": \"STANDARD\",\n    \"captureDateTime\": \"10/06/2021 14:01:00\",\n    \"ticIdentifier\": {\n      \"serialNumber\": \"021762010203\",\n      \"portName\": \"/dev/ttyUSB0\",\n      \"portId\": \"1-1\"\n    },\n    \"content\": {\n      \"ADSC\": \"010203040506\",\n      \"URMS1\": 230\n    }\n  }\n}\n</code></pre>"},{"location":"en/usage/api/#subscribetic","title":"SubscribeTIC","text":"<p>This request subscribes to one or more TIC streams. Once subscribed, the client receives events for each new TIC frame or stream-related error.</p>"},{"location":"en/usage/api/#request_3","title":"Request","text":"<p>Several request formats are available.</p> <p>Subscribe to one TIC stream:</p> <pre><code>{\n  \"type\": \"REQUEST\",\n  \"name\": \"SubscribeTIC\",\n  \"data\": {\n    \"serialNumber\": \"010203040506\"\n  }\n}\n</code></pre> <p>Subscribe to multiple TIC streams:</p> <pre><code>{\n  \"type\": \"REQUEST\",\n  \"name\": \"SubscribeTIC\",\n  \"data\": [\n    {\n      \"serialNumber\": \"010203040506\"\n    },\n    {\n      \"portId\": \"1-1\"\n    }\n  ]\n}\n</code></pre> <p>Subscribe to all TIC streams:</p> <pre><code>{\n  \"type\": \"REQUEST\",\n  \"name\": \"SubscribeTIC\"\n}\n</code></pre> <p>The <code>data</code> field must contain one TIC identifier (or a list of TIC identifiers) defined in TIC identifier format.</p>"},{"location":"en/usage/api/#response_3","title":"Response","text":"<p>Success response:</p> <pre><code>{\n  \"type\": \"RESPONSE\",\n  \"name\": \"SubscribeTIC\",\n  \"dateTime\": \"10/06/2021 14:01:00\",\n  \"errorCode\": 0\n}\n</code></pre> <p>If the requested TIC stream does not exist:</p> <pre><code>{\n  \"type\": \"RESPONSE\",\n  \"name\": \"SubscribeTIC\",\n  \"dateTime\": \"10/06/2021 14:01:00\",\n  \"errorCode\": -7,\n  \"errorMessage\": \"The given TIC identifier doesn't match with current TIC stream\"\n}\n</code></pre>"},{"location":"en/usage/api/#onticdata-event","title":"<code>OnTICData</code> event","text":"<p>This event is generated for each new TIC frame and sent to all clients subscribed to that TIC.</p> <pre><code>{\n  \"type\": \"EVENT\",\n  \"dateTime\": \"10/06/2021 14:01:00\",\n  \"name\": \"OnTICData\",\n  \"data\": {\n    \"mode\": \"STANDARD\",\n    \"captureDateTime\": \"10/06/2021 14:01:00\",\n    \"ticIdentifier\": {\n      \"serialNumber\": \"021762010203\",\n      \"portName\": \"/dev/ttyUSB0\",\n      \"portId\": \"1-1\"\n    },\n    \"content\": {\n      \"ADSC\": \"010203040506\",\n      \"URMS1\": 230\n    }\n  }\n}\n</code></pre>"},{"location":"en/usage/api/#onerror-event","title":"<code>OnError</code> event","text":"<p>This event is generated when an error occurs on the TIC stream and sent to all clients subscribed to that TIC.</p> <pre><code>{\n  \"type\": \"EVENT\",\n  \"dateTime\": \"10/06/2021 14:01:00\",\n  \"name\": \"OnError\",\n  \"data\": {\n    \"errorCode\": -5,\n    \"errorMessage\": \"TIC frame reading timeout\",\n    \"ticIdentifier\": {\n      \"serialNumber\": \"021762010203\",\n      \"portName\": \"/dev/ttyUSB0\",\n      \"portId\": \"1-1\"\n    }\n  }\n}\n</code></pre>"},{"location":"en/usage/api/#unsubscribetic","title":"UnsubscribeTIC","text":"<p>This request unsubscribes from one or more TIC streams.</p>"},{"location":"en/usage/api/#request_4","title":"Request","text":"<p>Several request formats are available.</p> <p>Unsubscribe from one TIC stream:</p> <pre><code>{\n  \"type\": \"REQUEST\",\n  \"name\": \"UnsubscribeTIC\",\n  \"data\": {\n    \"serialNumber\": \"010203040506\"\n  }\n}\n</code></pre> <p>Unsubscribe from multiple TIC streams:</p> <pre><code>{\n  \"type\": \"REQUEST\",\n  \"name\": \"UnsubscribeTIC\",\n  \"data\": [\n    {\n      \"serialNumber\": \"010203040506\"\n    },\n    {\n      \"portId\": \"1-1\"\n    }\n  ]\n}\n</code></pre> <p>Unsubscribe from all TIC streams:</p> <pre><code>{\n  \"type\": \"REQUEST\",\n  \"name\": \"UnsubscribeTIC\"\n}\n</code></pre> <p>For targeted unsubscription, the <code>data</code> field must contain one TIC identifier (or a list of TIC identifiers) defined in TIC identifier format.</p>"},{"location":"en/usage/api/#tic-identifier-format","title":"TIC identifier format","text":"<p>A TIC identifier is an object containing one of the following fields:</p> <ul> <li><code>serialNumber</code></li> <li><code>portId</code></li> <li><code>portName</code></li> </ul> <p>Depending on the request, you can provide a single identifier or a list of identifiers.</p>"},{"location":"en/usage/api/#response_4","title":"Response","text":"<pre><code>{\n  \"type\": \"RESPONSE\",\n  \"name\": \"UnsubscribeTIC\",\n  \"dateTime\": \"16/06/2021 15:53:32\",\n  \"errorCode\": 0\n}\n</code></pre>"},{"location":"en/usage/configuration/#location","title":"Location","text":"<p>The <code>TIC2WebSocketConfiguration.json</code> configuration file is located in the <code>var/config</code> subdirectory of the TIC2WebSocket installation directory.</p>"},{"location":"en/usage/configuration/#structure","title":"Structure","text":"<p>The configuration file uses JSON and allows you to change:</p> <ul> <li>the listening port of the WebSocket server,</li> <li>the TIC mode (optional),</li> <li>the list of native serial ports (optional).</li> </ul> <p>\u2139\ufe0f The USB port list is not configurable, because TIC2WebSocket detects them automatically.</p> <p>Example configuration file:</p> <pre><code>{\n    \"serverPort\": 19584,\n    \"ticMode\": \"AUTO\",\n    \"ticPortNames\": [\"/dev/ttyAMA0\"]\n}\n</code></pre>"},{"location":"en/usage/configuration/#serverport-parameter","title":"<code>serverPort</code> parameter","text":"<p><code>serverPort</code> configures the TCP listening port of the TIC2WebSocket WebSocket server, between <code>1</code> and <code>65535</code>.</p> <p>The default value is <code>19584</code>.</p>"},{"location":"en/usage/configuration/#ticmode-parameter","title":"<code>ticMode</code> parameter","text":"<p><code>ticMode</code> configures the TIC stream mode:</p> <ul> <li><code>\"AUTO\"</code>: automatic detection (default),</li> <li><code>\"STANDARD\"</code>: Standard TIC mode at 9600 baud,</li> <li><code>\"HISTORIC\"</code>: Historic TIC mode at 1200 baud.</li> </ul>"},{"location":"en/usage/configuration/#ticportnames-parameter","title":"<code>ticPortNames</code> parameter","text":"<p><code>ticPortNames</code> configures the list of native serial ports used to read TIC.</p> <p>When set, the list must:</p> <ul> <li>contain at least one element,</li> <li>contain unique elements,</li> <li>contain no null element,</li> <li>contain only strings with at least one character.</li> </ul> <p>Example:</p> <pre><code>\"ticPortNames\": [\"/dev/ttyAMA0\"]\n</code></pre>"}]}